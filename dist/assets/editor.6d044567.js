import{_ as T,L as E,a as j,T as O,H as M,G as S,b as B,u as R,c as A}from"./index.aa7146cb.js";import{o as h,c as y,a as l,H as w,r as H,B as F,C as U,I as V,m as D,y as J,i as _,q as N,J as z,t as G,j as q,d as x}from"./vendor.cb6c27a9.js";const W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},K=l("path",{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3s3 1.34 3 3s-1.34 3-3 3zm3-10H5V5h10v4z",fill:"currentColor"},null,-1),X=[K];function Y(i,s){return h(),y("svg",W,X)}var I={name:"ic-save",render:Y};const P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Q=l("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",fill:"currentColor"},null,-1),Z=[Q];function $(i,s){return h(),y("svg",P,Z)}var ee={name:"ic-baseline-content-copy",render:$},te={exports:{}};(function(i,s){(function(v,o){o()})(w,function(){function v(e,t){return typeof t=="undefined"?t={autoBom:!1}:typeof t!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function o(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){p(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function m(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(a){}return 200<=t.status&&299>=t.status}function u(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof w=="object"&&w.global===w?w:void 0,d=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(e,t,a){var n=r.URL||r.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener",typeof e=="string"?(c.href=e,c.origin===location.origin?u(c):m(c.href)?o(e,t,a):u(c,c.target="_blank")):(c.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(c.href)},4e4),setTimeout(function(){u(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download",typeof e!="string")navigator.msSaveOrOpenBlob(v(e,a),t);else if(m(e))o(e,t,a);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){u(n)})}}:function(e,t,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return o(e,t,a);var c=e.type==="application/octet-stream",C=/constructor/i.test(r.HTMLElement)||r.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||c&&C||d)&&typeof FileReader!="undefined"){var b=new FileReader;b.onloadend=function(){var f=b.result;f=k?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},b.readAsDataURL(e)}else{var L=r.URL||r.webkitURL,g=L.createObjectURL(e);n?n.location=g:location.href=g,n=null,setTimeout(function(){L.revokeObjectURL(g)},4e4)}});r.saveAs=p.saveAs=p,i.exports=p})})(te);const ne={name:"editor",components:{LoadJsonDialog:E,AddLangDialog:j,Treeview:O,HelloWorld:M,Grid:S,GridColumn:B},setup(){const i=R(),s=H(!1),v=F();U(()=>{if(Object.keys(i.langObj.value).length===0){v.replace("/");return}document.addEventListener("keydown",u),i.findExistingLangs()}),V(()=>{document.removeEventListener("keydown",u)});const o=async()=>{await navigator.clipboard.writeText(JSON.stringify(i.langObj.value)),console.log(await navigator.clipboard.readText())},m=()=>{v.replace("/")},u=d=>{!(d.keyCode===83&&d.ctrlKey)||(d.preventDefault(),r())},r=async()=>{let d=new Blob([JSON.stringify(i.langObj.value)],{type:"application/json"});if(i.isMergingFiles.value){const e={name:i.filename,types:[{description:"i18n json file",accept:{"application/json":[".json"]}}]};i.fileHandler.value=[await window.showSaveFilePicker(e)],i.isMergingFiles.value=!1}const p=await i.fileHandler.value[0].createWritable();await p.write(d),await p.close()};return D(s,()=>{i.tabDownColumn.value=s.value}),{langs:i.langObj,tabByColumn:s,copyToClipboard:o,onLoadJsonClick:m,onSave:u,saveLanguageFile:r}}},oe={key:0,class:"p-4"},ae={class:"options"},ie=x(" Load i18n JSON "),se={for:"tabbycolumn"},re=x(" Tab by column "),ce=x(" Save (CTRL+S) "),le=l("p",{class:"font-bold text-xl"},"JSON",-1),de={class:"preview"};function ue(i,s,v,o,m,u){const r=A,d=j,p=I,e=J("Treeview"),t=ee;return Object.keys(o.langs).length?(h(),y("div",oe,[l("div",ae,[l("button",{onClick:s[0]||(s[0]=(...a)=>o.onLoadJsonClick&&o.onLoadJsonClick(...a)),tabindex:"-1"},[_(r),ie]),l("label",se,[N(l("input",{type:"checkbox",id:"tabbycolumn","onUpdate:modelValue":s[1]||(s[1]=a=>o.tabByColumn=a)},null,512),[[z,o.tabByColumn]]),re]),_(d),l("button",{onClick:s[2]||(s[2]=(...a)=>o.saveLanguageFile&&o.saveLanguageFile(...a)),tabindex:"-1"},[_(p),ce])]),_(e,{obj:o.langs},null,8,["obj"]),le,l("div",de,[l("div",{class:"copy-to-clipboard",onClick:s[3]||(s[3]=(...a)=>o.copyToClipboard&&o.copyToClipboard(...a))},[_(t)]),l("pre",null,G(o.langs),1)])])):q("",!0)}var me=T(ne,[["render",ue]]);export{me as default};
