import{r as v,o as u,c as p,a as s,t as T,F as x,p as I,b as B,d as k,e as E,n as q,f as V,g as Q,h as A,i as d,w as g,j as $,T as ie,k as se,l as re,s as G,m as L,q as K,v as S,u as F,x as J,_ as X,y as U,z as P,A as N,B as Z,C as ae,D as ce,E as de,G as ue}from"./vendor.cb6c27a9.js";const _e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}};_e();var w=(n,e)=>{for(const[o,t]of e)n[o]=t;return n};const Y=n=>(I("data-v-3d3c9e2e"),n=n(),B(),n),me=Y(()=>s("p",null,[k(" Recommended IDE setup: "),s("a",{href:"https://code.visualstudio.com/",target:"_blank"},"VSCode"),k(" + "),s("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank"},"Volar")],-1)),pe=Y(()=>s("p",null,[s("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation "),k(" | "),s("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1)),ge=Y(()=>s("p",null,[k(" Edit "),s("code",null,"components/HelloWorld.vue"),k(" to test hot module replacement. ")],-1)),fe={props:{msg:String},setup(n){const e=v(0);return(o,t)=>(u(),p(x,null,[s("h1",null,T(n.msg),1),me,pe,s("button",{type:"button",onClick:t[0]||(t[0]=a=>e.value++)},"count is: "+T(e.value),1),ge],64))}};var ve=w(fe,[["__scopeId","data-v-3d3c9e2e"]]);const be={name:"Grid",props:{shrink:Boolean}};function he(n,e,o,t,a,r){return u(),p("div",{class:q(["grid",{shrink:o.shrink}])},[E(n.$slots,"default",{},void 0,!0)],2)}var y=w(be,[["render",he],["__scopeId","data-v-0301f719"]]);const we={name:"GridColumn",props:{column:{type:[Number,String],default:()=>1,required:!0},justify:{type:String}},setup(n){return{styleObj:V(()=>({"grid-column":n.column,"justify-self":n.justify}))}}};function ye(n,e,o,t,a,r){return u(),p("div",{class:"grid-column",style:Q(t.styleObj)},[E(n.$slots,"default",{},void 0,!0)],4)}var h=w(we,[["render",ye],["__scopeId","data-v-4b8575a8"]]);const je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},xe=s("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z",fill:"currentColor"},null,-1),ke=[xe];function Ce(n,e){return u(),p("svg",je,ke)}var Oe={name:"ic-round-delete",render:Ce};const Ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ae=s("path",{d:"M4 7v2c0 .55-.45 1-1 1s-1 .45-1 1v2c0 .55.45 1 1 1s1 .45 1 1v2c0 1.66 1.34 3 3 3h2c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H7C5.34 4 4 5.34 4 7zm17 3c-.55 0-1-.45-1-1V7c0-1.66-1.34-3-3-3h-2c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h2c1.66 0 3-1.34 3-3v-2c0-.55.45-1 1-1s1-.45 1-1v-2c0-.55-.45-1-1-1z",fill:"currentColor"},null,-1),De=[Ae];function $e(n,e){return u(),p("svg",Ve,De)}var Me={name:"ic-round-data-object",render:$e};const Le={name:"Dialog",props:{title:String,modelValue:Boolean},setup(n,{emit:e}){return{toggleDialog:()=>{e("update:modelValue",!n.modelValue)}}}},Ke={key:0},Se={class:"dialog"},Re={class:"mb-2 font-bold"};function Te(n,e,o,t,a,r){return u(),A(se,{to:"#dialogContainer"},[d(ie,{name:"dialogTransition"},{default:g(()=>[o.modelValue?(u(),p("div",Ke,[s("div",{class:"dialog-bg",onClick:e[0]||(e[0]=(...c)=>t.toggleDialog&&t.toggleDialog(...c))}),s("div",Se,[s("p",Re,T(o.title),1),E(n.$slots,"default",{},void 0,!0)])])):$("",!0)]),_:3})])}var O=w(Le,[["render",Te],["__scopeId","data-v-261dc6be"]]);const Fe=v("i18n.json"),M=v({}),W=v([]),ze=v(!1),Ge=v(null),Pe=v(!1);function D(){const n=(l,m)=>{for(let _ in l){if(M.value.length>0)return;if(typeof l[_]=="object"&&n(l[_],[...m,_]),typeof l[_]=="string"){W.value=Object.keys(l);return}}},e=()=>{W.value=[],n(M,[])},o=(l,m)=>{for(let _ in l){if(M.value.length>0)return;if(typeof l[_]=="object"&&o(l[_],m),typeof l[_]=="string"){l[m]="";return}}},t=l=>{o(M.value,l),e()},a=(l,m)=>{for(let _ in l){if(M.value.length>0)return;typeof l[_]=="object"&&a(l[_],m),typeof l[_]=="string"&&delete l[m]}};return{filename:Fe,langObj:M,langs:W,tabDownColumn:ze,findExistingLangs:e,addNewLang:t,removeLang:l=>{a(M.value,l),e()},generateLangFileInNewFormat:l=>{const m=Object.keys(l);let _={};const i=(f,b)=>{for(let j in f)typeof f[j]=="object"&&i(f[j],[...b,j]),typeof f[j]=="string"&&m.forEach(C=>{const z=re(l[C],[...b,j]);G(_,[...b,j,C],z)})};return i(l[m[0]],[]),_},fileHandler:Ge,isMergingFiles:Pe}}const Ne={name:"AddObjectDialog",components:{GridColumn:h,Grid:y,Dialog:O},props:{obj:Object},setup(n){const e=v(!1),o=v(""),t=()=>{!o.value||(e.value=!1,n.obj[o.value]={},o.value="")};return L(e,a=>{a||(o.value="")}),{dialogVisible:e,inputValue:o,onClickAddObject:t}}},He=k(" Add Object ");function Ie(n,e,o,t,a,r){const c=Me,l=h,m=y,_=O;return u(),p(x,null,[s("button",{onClick:e[0]||(e[0]=i=>t.dialogVisible=!0),tabindex:"-1"},[d(c),He]),d(_,{title:"Add Object",modelValue:t.dialogVisible,"onUpdate:modelValue":e[5]||(e[5]=i=>t.dialogVisible=i)},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[K(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.inputValue=i),onKeypress:e[2]||(e[2]=F((...i)=>t.onClickAddObject&&t.onClickAddObject(...i),["enter"]))},null,544),[[S,t.inputValue]])]),_:1}),d(l,{column:"1",justify:"end"},{default:g(()=>[s("button",{class:"outline mr-2",onClick:e[3]||(e[3]=i=>t.dialogVisible=!1)},"Cancel"),s("button",{onClick:e[4]||(e[4]=(...i)=>t.onClickAddObject&&t.onClickAddObject(...i))},"Add Object")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var H=w(Ne,[["render",Ie]]);const Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ee=s("path",{d:"M7 10l5 5l5-5H7z",fill:"currentColor"},null,-1),Je=[Ee];function Ue(n,e){return u(),p("svg",Be,Je)}var Ye={name:"ic-outline-arrow-drop-down",render:Ue};const We={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},qe=s("path",{d:"M10 17l5-5l-5-5v10z",fill:"currentColor"},null,-1),Qe=[qe];function Xe(n,e){return u(),p("svg",We,Qe)}var Ze={name:"ic-outline-arrow-right",render:Xe};const et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},tt=s("path",{d:"M20.59 10h-7.94a6.004 6.004 0 0 0-6.88-3.88c-2.29.46-4.15 2.3-4.63 4.58A6.002 6.002 0 0 0 7 18a5.99 5.99 0 0 0 5.65-4H13l1.29 1.29c.39.39 1.02.39 1.41 0L17 14l1.29 1.29c.39.39 1.03.39 1.42 0l2.59-2.61a.999.999 0 0 0-.01-1.42l-.99-.97c-.2-.19-.45-.29-.71-.29zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3s3 1.35 3 3s-1.35 3-3 3z",fill:"currentColor"},null,-1),nt=[tt];function ot(n,e){return u(),p("svg",et,nt)}var lt={name:"ic-round-key",render:ot};const it={name:"AddKeyDialog",components:{GridColumn:h,Grid:y,Dialog:O},props:{obj:Object},setup(n){const e=v(!1),o=v(""),t=D(),a=()=>{!o.value||(e.value=!1,n.obj[o.value]={},t.langs.value.forEach(r=>{n.obj[o.value][r]=""}),o.value="")};return L(e,r=>{r||(o.value="")}),{dialogVisible:e,inputValue:o,onClickAddKey:a}}},st=k(" Add Key ");function rt(n,e,o,t,a,r){const c=lt,l=h,m=y,_=O;return u(),p(x,null,[s("button",{onClick:e[0]||(e[0]=i=>t.dialogVisible=!0),tabindex:"-1"},[d(c),st]),d(_,{title:"Add Key",modelValue:t.dialogVisible,"onUpdate:modelValue":e[5]||(e[5]=i=>t.dialogVisible=i)},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[K(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.inputValue=i),onKeypress:e[2]||(e[2]=F((...i)=>t.onClickAddKey&&t.onClickAddKey(...i),["enter"]))},null,544),[[S,t.inputValue]])]),_:1}),d(l,{column:"1",justify:"end"},{default:g(()=>[s("button",{class:"outline mr-2",onClick:e[3]||(e[3]=i=>t.dialogVisible=!1)},"Cancel"),s("button",{onClick:e[4]||(e[4]=(...i)=>t.onClickAddKey&&t.onClickAddKey(...i))},"Add key")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var ee=w(it,[["render",rt]]);const at={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ct=s("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",fill:"currentColor"},null,-1),dt=[ct];function ut(n,e){return u(),p("svg",at,dt)}var _t={name:"ic-delete",render:ut};const mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},pt=s("path",{d:"M15 16l-4 4h8c1.1 0 2-.9 2-2s-.9-2-2-2h-4zm-2.94-8.81l-8.77 8.77c-.18.18-.29.44-.29.7V19c0 .55.45 1 1 1h2.34c.27 0 .52-.11.71-.29l8.77-8.77l-3.76-3.75zm6.65.85a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83l3.75 3.75l1.83-1.83z",fill:"currentColor"},null,-1),gt=[pt];function ft(n,e){return u(),p("svg",mt,gt)}var vt={name:"ic-round-drive-file-rename-outline",render:ft};const bt={name:"RenameDialog",components:{GridColumn:h,Grid:y,Dialog:O},props:{obj:Object,currentPath:Array},setup(n){const e=v(!1),o=v(n.currentPath[n.currentPath.length-1]),t=D(),a=()=>{if(!o.value)return;e.value=!1;let r=[...n.currentPath];r.pop(),r.push(o.value),G(t.langObj.value,r,n.obj),J(t.langObj.value,n.currentPath),o.value=""};return L(e,r=>{r||(o.value="")}),{dialogVisible:e,inputValue:o,onClickRename:a}}};function ht(n,e,o,t,a,r){const c=vt,l=h,m=y,_=O;return u(),p(x,null,[d(c,{onClick:e[0]||(e[0]=i=>t.dialogVisible=!0),class:"rename-button",tabindex:"-1"}),d(_,{title:"Rename",modelValue:t.dialogVisible,"onUpdate:modelValue":e[5]||(e[5]=i=>t.dialogVisible=i)},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[K(s("input",{type:"text",ref:"textInputRef","onUpdate:modelValue":e[1]||(e[1]=i=>t.inputValue=i),onKeypress:e[2]||(e[2]=F((...i)=>n.onClickAddKey&&n.onClickAddKey(...i),["enter"]))},null,544),[[S,t.inputValue]])]),_:1}),d(l,{column:"1",justify:"end"},{default:g(()=>[s("button",{class:"outline mr-2",onClick:e[3]||(e[3]=i=>t.dialogVisible=!1)},"Cancel"),s("button",{onClick:e[4]||(e[4]=(...i)=>t.onClickRename&&t.onClickRename(...i))},"Rename")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var te=w(bt,[["render",ht],["__scopeId","data-v-03d66c40"]]);const wt={name:"TreeviewRow",components:{AddObjectDialog:H,AddKeyDialog:ee,Dialog:O,GridColumn:h,RenameDialog:te},props:{objectKey:String,obj:Object,parentPath:{type:Array,default:()=>[]}},setup(n){const e=v(!1),o=D(),t=V(()=>o.tabDownColumn.value),a=V(()=>({"margin-left":r.value.length-1+"rem"})),r=V(()=>[...n.parentPath,n.objectKey]),c=V(()=>typeof n.obj[Object.keys(n.obj)[0]]!="string"),l=()=>{confirm("Are you sure?")&&J(o.langObj.value,r.value.join("."))},m=f=>{f.dataTransfer.dropEffect="move",f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("objData",JSON.stringify({path:r.value,key:n.objectKey,obj:n.obj}))},_=f=>{const b=JSON.parse(f.dataTransfer.getData("objData"));if(c.value)G(o.langObj.value,[...r.value,b.key].join("."),b.obj);else{let j=[...r.value];j.pop(),G(o.langObj.value,[...j,b.key].join("."),b.obj)}J(o.langObj.value,b.path.join("."))},i=V(()=>X(n.obj).toPairs().sortBy(0).fromPairs().value());return{rowStyle:a,isCollapsed:e,isGroupObject:c,currentPath:r,tabByColumn:t,onClickDelete:l,onDrag:m,onDrop:_,langs:o.langs,sortedObj:i}}},yt={key:1,class:"mr-1"},jt={key:2,class:"mr-1"},xt={class:"mr-1"},kt=["onUpdate:modelValue","tabindex"];function Ct(n,e,o,t,a,r){const c=Ye,l=Ze,m=H,_=ee,i=_t,f=te,b=h,j=U("TreeviewRow",!0);return u(),p(x,null,[d(b,{column:t.isGroupObject?1+"/"+(t.langs.length+2):1,class:q(t.isGroupObject?"groupRow":null),style:Q(t.rowStyle),onDrop:t.onDrop,onDragover:e[2]||(e[2]=P(()=>{},["prevent"])),onDragenter:e[3]||(e[3]=P(()=>{},["prevent"]))},{default:g(()=>[t.isGroupObject?(u(),p("div",{key:0,class:"fold-button",onClick:e[0]||(e[0]=C=>t.isCollapsed=!t.isCollapsed)},[t.isCollapsed?(u(),A(l,{key:1,style:{width:"1rem"}})):(u(),A(c,{key:0,style:{width:"1rem"}}))])):$("",!0),s("span",{class:"mr-2",draggable:"true",onDragstart:e[1]||(e[1]=(...C)=>t.onDrag&&t.onDrag(...C))},T(t.currentPath.join(".")),33),t.isGroupObject?(u(),p("div",yt,[d(m,{obj:o.obj},null,8,["obj"])])):$("",!0),t.isGroupObject?(u(),p("div",jt,[d(_,{obj:o.obj},null,8,["obj"])])):$("",!0),d(i,{onClick:t.onClickDelete,class:"delete-button"},null,8,["onClick"]),s("div",xt,[d(f,{obj:o.obj,currentPath:t.currentPath},null,8,["obj","currentPath"])])]),_:1},8,["column","class","style","onDrop"]),t.isGroupObject&&!t.isCollapsed?(u(!0),p(x,{key:0},N(Object.keys(t.sortedObj),C=>(u(),A(j,{"parent-path":t.currentPath,objectKey:C,obj:o.obj[C]},null,8,["parent-path","objectKey","obj"]))),256)):$("",!0),t.isGroupObject?$("",!0):(u(!0),p(x,{key:1},N(Object.keys(t.sortedObj),(C,z)=>(u(),A(b,{column:z+2,onDrop:t.onDrop,onDragover:e[4]||(e[4]=P(()=>{},["prevent"])),onDragenter:e[5]||(e[5]=P(()=>{},["prevent"]))},{default:g(()=>[K(s("input",{type:"text","onUpdate:modelValue":le=>o.obj[C]=le,tabindex:t.tabByColumn?z+1:null},null,8,kt),[[S,o.obj[C]]])]),_:2},1032,["column","onDrop"]))),256))],64)}var Ot=w(wt,[["render",Ct],["__scopeId","data-v-285d21a0"]]);const Vt={name:"Treeview",components:{AddObjectDialog:H,TreeviewRow:Ot,GridColumn:h,Grid:y},props:{obj:{type:Object,default:{}}},setup(n){const e=D(),o=V(()=>e.langs.value),t=V(()=>X(n.obj).toPairs().sortBy(0).fromPairs().value());return{langs:o,sortedObj:t,onClickDeleteLang:r=>{confirm("Are you sure?")&&e.removeLang(r)}}}},At=n=>(I("data-v-433ac670"),n=n(),B(),n),Dt={class:"treeview"},$t=k(" Key "),Mt=["onClick"],Lt=k(" Delete "),Kt=At(()=>s("hr",{class:"w-full h-px bg-gray-500"},null,-1));function St(n,e,o,t,a,r){const c=h,l=Oe,m=H,_=U("TreeviewRow"),i=y;return u(),p("div",Dt,[d(i,null,{default:g(()=>[d(c,{column:"1"},{default:g(()=>[$t]),_:1}),(u(!0),p(x,null,N(t.langs,(f,b)=>(u(),A(c,{column:b+2},{default:g(()=>[k(T(f)+" ",1),s("button",{class:"outline ml-4",onClick:j=>t.onClickDeleteLang(f)},[d(l),Lt],8,Mt)]),_:2},1032,["column"]))),256)),d(c,{column:"1 / "+(t.langs.length+2)},{default:g(()=>[Kt]),_:1},8,["column"]),d(c,{column:"1 / 4"},{default:g(()=>[d(m,{obj:o.obj},null,8,["obj"])]),_:1}),(u(!0),p(x,null,N(Object.keys(t.sortedObj),f=>(u(),A(_,{objectKey:f,obj:o.obj[f]},null,8,["objectKey","obj"]))),256))]),_:1})])}var Rt=w(Vt,[["render",St],["__scopeId","data-v-433ac670"]]);const Tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Ft=s("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z",fill:"currentColor"},null,-1),zt=[Ft];function Gt(n,e){return u(),p("svg",Tt,zt)}var Pt={name:"ic-round-language",render:Gt};const Nt={name:"AddLangDialog",components:{GridColumn:h,Grid:y,Dialog:O},setup(n){const e=v(!1),o=v(""),t=D(),a=()=>{!o.value||(e.value=!1,t.addNewLang(o.value),o.value="")};return L(e,r=>{r||(o.value="")}),{dialogVisible:e,inputValue:o,onClickAddKey:a}}},Ht=k(" Add language ");function It(n,e,o,t,a,r){const c=Pt,l=h,m=y,_=O;return u(),p(x,null,[s("button",{onClick:e[0]||(e[0]=i=>t.dialogVisible=!0),tabindex:"-1"},[d(c),Ht]),d(_,{title:"Add Language",modelValue:t.dialogVisible,"onUpdate:modelValue":e[5]||(e[5]=i=>t.dialogVisible=i)},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[K(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.inputValue=i),onKeypress:e[2]||(e[2]=F((...i)=>t.onClickAddKey&&t.onClickAddKey(...i),["enter"]))},null,544),[[S,t.inputValue]])]),_:1}),d(l,{column:"1",justify:"end"},{default:g(()=>[s("button",{class:"outline mr-2",onClick:e[3]||(e[3]=i=>t.dialogVisible=!1)},"Cancel"),s("button",{onClick:e[4]||(e[4]=(...i)=>t.onClickAddKey&&t.onClickAddKey(...i))},"Add lang")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var Bt=w(Nt,[["render",It]]);const Et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Jt=s("path",{d:"M9 16h6v-6h4l-7-7l-7 7h4v6zm-4 2h14v2H5v-2z",fill:"currentColor"},null,-1),Ut=[Jt];function Yt(n,e){return u(),p("svg",Et,Ut)}var Wt={name:"ic-sharp-upload",render:Yt};const qt={name:"LoadJsonDialog",components:{GridColumn:h,Grid:y,Dialog:O},props:{obj:Object},setup(n){const e=Z(),o=v(!1),t=v(""),a=D(),r=V(()=>{try{return JSON.parse(t.value),!0}catch(l){return!1}}),c=()=>{!t.value||!r.value||(o.value=!1,a.langObj.value=JSON.parse(t.value),a.findExistingLangs(),t.value="",e.replace("/editor"))};return L(o,l=>{l||(t.value="")}),{dialogVisible:o,inputValue:t,onClickAddKey:c,jsonIsValid:r}}},Qt=k(" Paste JSON file "),Xt={key:0,class:"text-green-500"},Zt={key:1,class:"text-red-500"};function en(n,e,o,t,a,r){const c=Wt,l=h,m=y,_=O;return u(),p(x,null,[s("button",{onClick:e[0]||(e[0]=i=>t.dialogVisible=!0),tabindex:"-1"},[d(c),Qt]),d(_,{title:"Load i18n JSON",modelValue:t.dialogVisible,"onUpdate:modelValue":e[4]||(e[4]=i=>t.dialogVisible=i)},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[K(s("textarea",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.inputValue=i),onKeypress:e[2]||(e[2]=F((...i)=>t.onClickAddKey&&t.onClickAddKey(...i),["enter"]))},null,544),[[S,t.inputValue]])]),_:1}),d(l,{column:"1",class:"disableFlex"},{default:g(()=>[d(m,null,{default:g(()=>[d(l,{column:"1"},{default:g(()=>[t.inputValue?(u(),p(x,{key:0},[t.jsonIsValid?(u(),p("span",Xt,"JSON is valid!")):(u(),p("span",Zt,"JSON NOT valid!"))],64)):$("",!0)]),_:1}),d(l,{column:"2",justify:"end"},{default:g(()=>[s("button",{onClick:e[3]||(e[3]=(...i)=>t.onClickAddKey&&t.onClickAddKey(...i))},"Load Json")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var tn=w(qt,[["render",en]]);const nn={name:"App",components:{LoadJsonDialog:tn,AddLangDialog:Bt,Treeview:Rt,HelloWorld:ve,Grid:y,GridColumn:h},setup(){const n=D(),e=v(!1);ae(()=>{n.findExistingLangs()});const o=async()=>{await navigator.clipboard.writeText(JSON.stringify(n.langObj.value)),console.log(await navigator.clipboard.readText())};return L(e,()=>{n.tabDownColumn.value=e.value}),{langs:n.langObj,tabByColumn:e,copyToClipboard:o}}};function on(n,e,o,t,a,r){const c=U("router-view");return u(),A(c)}var ln=w(nn,[["render",on]]);const sn="modulepreload",ne={},rn="/i18n-editor/",an=function(e,o){return!o||o.length===0?e():Promise.all(o.map(t=>{if(t=`${rn}${t}`,t in ne)return;ne[t]=!0;const a=t.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":sn,a||(c.as="script",c.crossOrigin=""),c.href=t,document.head.appendChild(c),a)return new Promise((l,m)=>{c.addEventListener("load",l),c.addEventListener("error",m)})})).then(()=>e())};const cn={name:"indexPage",setup(){const n=D(),e=Z(),o=r=>new Promise((c,l)=>{let m=new FileReader;m.onload=function(_){c(_.target.result)},m.readAsText(r)});return{selectFile:async()=>{const r={types:[{description:"i18n json file",accept:{"application/json":[".json"]}}],excludeAcceptAllOption:!0,multiple:!1};n.fileHandler.value=await window.showOpenFilePicker(r);const c=await n.fileHandler.value[0].getFile(),l=JSON.parse(await o(c));n.langObj.value=l,n.isMergingFiles.value=!1,await e.push("/editor")},selectFilesToMerge:async()=>{const r={types:[{description:"i18n json files to merge",accept:{"application/json":[".json"]}}],excludeAcceptAllOption:!0,multiple:!0};n.fileHandler.value=await window.showOpenFilePicker(r);const c=n.fileHandler.value;let l={};for(const _ of c){const i=await _.getFile(),f=await o(i),b=JSON.parse(f);l[_.name.split(".")[0]]=b}const m=n.generateLangFileInNewFormat(l);n.langObj.value=m,n.filename.value="i18n.json",n.isMergingFiles.value=!0,e.push("/editor")}}}},R=n=>(I("data-v-cf02f474"),n=n(),B(),n),dn={class:"w-screen h-screen flex items-center align-center justify-center"},un={class:"text-center"},_n=R(()=>s("p",{class:"font-bold mb-4",style:{"font-size":"2rem"}},"i18n Editor",-1)),mn={class:"option-card"},pn=R(()=>s("label",{for:"newFormatFile"},"Load language file in new format",-1)),gn=R(()=>s("p",null,[s("a",{target:"_blank",href:"https://github.com/dasmikko/i18n-editor#what-is-this"},"Read more about the format")],-1)),fn=R(()=>s("p",{class:"mt-6 mb-6 text-gray-400 font-bold"},"OR",-1)),vn={class:"option-card"},bn=R(()=>s("label",{for:"mergeFiles"},"Merge language files",-1)),hn=R(()=>s("p",null,"It expects that the filename is the key for the language, like: da.json, en.json",-1));function wn(n,e,o,t,a,r){return u(),p("div",dn,[s("div",un,[_n,s("div",mn,[pn,gn,s("button",{onClick:e[0]||(e[0]=(...c)=>t.selectFile&&t.selectFile(...c))},"Select file")]),fn,s("div",vn,[bn,hn,s("button",{onClick:e[1]||(e[1]=(...c)=>t.selectFilesToMerge&&t.selectFilesToMerge(...c))},"Select files")])])])}var yn=w(cn,[["render",wn],["__scopeId","data-v-cf02f474"]]);const jn=[{name:"editor",path:"/editor",component:()=>an(()=>import("./editor.04d53337.js"),["assets/editor.04d53337.js","assets/vendor.cb6c27a9.js"]),props:!0},{name:"index",path:"/",component:yn,props:!0}];const xn=ce({history:de(),routes:jn}),oe=ue(ln);oe.use(xn);oe.mount("#app");export{y as G,ve as H,tn as L,Rt as T,w as _,Bt as a,h as b,Wt as c,D as u};
